jQuery.fn.bityslider=function(time,type){if(!time)var time=5E3;if(!type)var type="fade";var parent=$(this);var count=$(this).children().length-1;var index=0;var next=1;var c_height;var c_width;var go_on=true;var timer;var defined_height;var defined_width;$(parent).children().hide();$(parent).children().wrapAll("<div/>");var container=$(parent).find("div").eq(0);var first=$(container).children().eq(0);set_baseline();define_dims(first);$(container).css({width:c_width,height:c_height});$(first).show();
if(first.complete||$(first).height()>0)bity_action();else $(first).load(function(){bity_action()});function set_baseline(){defined_height=$(parent).height();defined_width=$(parent).width()}function define_dims(elem){var ratio=$(elem).width()/$(elem).height();if(defined_width!=0&&defined_height!=0){c_height=defined_height;c_width=defined_width}else if(defined_width==0&&defined_height==0){c_height=$(elem).height();c_width=$(elem).width()}else if(defined_width!=0&&defined_height==0){c_height=defined_width/
ratio;c_width=defined_width}else{c_height=defined_height;c_width=defined_height*ratio}}function bity_action(){if(go_on)timer=setTimeout(function(){bity_fire();bity_action()},time)}function bity_fire(){next=index+1;if(next>count)next=0;var target=$(container).children().eq(index);var follow=$(container).children().eq(next);$(follow).css("position","absolute");$(target).css("z-index","100");$(follow).css("z-index","99");define_dims(follow);$(follow).css({height:c_height,width:c_width});pos=$(container).offset();
if(type=="shrink"){$(target).animate({"height":"toggle"},1E3);$(container).css({height:c_height,width:c_width});$(follow).css({"top":pos.top,"left":pos.left}).fadeIn()}else if(type=="wipe"){$(target).animate({width:0},2E3,function(){$(target).hide()});$(container).css({height:c_height,width:c_width});$(follow).css({"top":pos.top,"left":pos.left}).show()}else{$(target).fadeOut();$(container).css({height:c_height,width:c_width});$(follow).css({"top":pos.top,"left":pos.left}).fadeIn()}if(index<count)index++;
else index=0}function reset(){index=0;next=1;go_on=false;clearTimeout(timer);$(container).children().hide();$(container).css({height:"auto",width:"auto"});$(container).children().each(function(){$(this).css("position","static")});set_baseline();define_dims(first);$(first).show();bity_fire();go_on=true;bity_action()}$(window).resize(function(){reset()})};$(document).ready(function(){$(".bityslider").each(function(){$(this).bityslider(3E3,"fade")})});
